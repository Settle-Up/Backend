# 멤버 추가 기능 

## 유저 플로우 
기존에 그룹에 새로운 인원을 추가하고자 할때 해당 기능을 이용합니다

## 개발시 고려사항 
1. 새롭게 추가된 유저에게 이메일로 알림을 주는 기능을 고려</br>
=> 구글 smtp 사용

2. api 목적상 유저가 데이터베이스에 성공적으로 저장이 되면 클라이언트단으로 응답을 보내고 이메일은 그 후에 이루어질수 있도록 설계</br>
=> 이메일이 전부 전송되는데 까지 3초 이상의 응답시간이 걸릴뿐만아니라 , 이메일이 가지 않았다고 해도 데이터 베이스상 새로운 유저가 그룹에 포함되었다면 실패라고 보기 어렵다고 판단했다

3. 이메일 발송과정에서 에러나 exception 의 경우에는 프론트 서버로 전달되면 안됌 , 단순히 api 목적성에 맞는 결과가 올바르게 도출되었는지가 중요함</br>
sentry 를 이용해 서버에서 이메일 또는 디스코드로 알람을 받을 수 있도록 설계함

4. 이메일 전송시기는 언제로 할것인가?</br>
=>새로운 유저가 성공적으로 데이터 베이스에 그룹에 포함되게 되면 그 즉시 이벤트를 발행하고 이벤트 리스너가 이메일을 보내는 함수를 호출하도록 설계함


